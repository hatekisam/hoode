# invoke rewrite engine
RewriteEngine On
RewriteBase /

Options -Indexes
<IfModule mod_negotiation.c>
	Options -MultiViews
</IfModule>

#Redirect 400,401,403,404,500 to main website
ErrorDocument 400 https://changenow.io
ErrorDocument 401 https://changenow.io
ErrorDocument 403 https://changenow.io
ErrorDocument 404 https://changenow.io
ErrorDocument 500 https://changenow.io

# Add a trailing slash (/) to a URL
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !\.[A-Za-z0-9]*$
RewriteRule .*[^/]$ %{REQUEST_URI}/ [L,R=301]

# Specific redirections
RewriteRule ^index\.html$ / [L,R=301]
RewriteCond %{QUERY_STRING} ^from\=btc&to\=eth$
RewriteRule ^exchange/?$ exchange-from-btc-to-eth/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=usd&to\=btc&fiatMode\=true$
RewriteRule ^exchange/?$ exchange-from-usd-to-btc-fiatMode-true/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=btc$
RewriteRule ^exchange/?$ exchange-to-btc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=btc$
RewriteRule ^exchange/?$ exchange-from-btc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=eth$
RewriteRule ^exchange/?$ exchange-to-eth/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=eth$
RewriteRule ^exchange/?$ exchange-from-eth/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=xrp$
RewriteRule ^exchange/?$ exchange-to-xrp/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=xrp$
RewriteRule ^exchange/?$ exchange-from-xrp/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=ada$
RewriteRule ^exchange/?$ exchange-to-ada/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=ada$
RewriteRule ^exchange/?$ exchange-from-ada/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=btcln$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-btcln/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=etharb$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-etharb/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=ethop$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-ethop/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=ethbsc$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-ethbsc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=usdtop$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-usdtop/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=usdtkcc$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-usdtkcc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc&to\=usdtxtz$
RewriteRule ^exchange/?$ exchange-from-bnbbsc-to-usdtxtz/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=bnbbsc$
RewriteRule ^exchange/?$ exchange-to-bnbbsc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=bnbbsc$
RewriteRule ^exchange/?$ exchange-from-bnbbsc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=ltc$
RewriteRule ^exchange/?$ exchange-to-ltc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=ltc$
RewriteRule ^exchange/?$ exchange-from-ltc/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=theta$
RewriteRule ^exchange/?$ exchange-to-theta/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=theta$
RewriteRule ^exchange/?$ exchange-from-theta/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=sol$
RewriteRule ^exchange/?$ exchange-to-sol/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=sol$
RewriteRule ^exchange/?$ exchange-from-sol/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=xlm$
RewriteRule ^exchange/?$ exchange-to-xlm/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=xlm$
RewriteRule ^exchange/?$ exchange-from-xlm/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=xmr$
RewriteRule ^exchange/?$ exchange-to-xmr/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=xmr$
RewriteRule ^exchange/?$ exchange-from-xmr/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=dot$
RewriteRule ^exchange/?$ exchange-to-dot/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=dot$
RewriteRule ^exchange/?$ exchange-from-dot/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^to\=trx$
RewriteRule ^exchange/?$ exchange-to-trx/ [L,R=301,QSD]
RewriteCond %{QUERY_STRING} ^from\=trx$
RewriteRule ^exchange/?$ exchange-from-trx/ [L,R=301,QSD]

# Create pretty URLs
RewriteRule ^([^/]+)/$ $1.html [S=9]
RewriteRule ^([^/]+)/([^/]+)/$ $1/$2.html [S=8]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3.html [S=7]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4.html [S=6]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4/$5.html [S=5]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4/$5/$6.html [S=4]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4/$5/$6/$7.html [S=3]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4/$5/$6/$7/$8.html [S=2]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4/$5/$6/$7/$8/$9.html [S=1]
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1/$2/$3/$4/$5/$6/$7/$8/$9/$10.html
# End: Create pretty URLs

# Redirect all extensions to html
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.shtml$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.phtml$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.jhtml$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.htm$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.php$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.aspx$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.asp$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.jsp$ $1.html [L,NC,R=301]
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.*)\.apk$ $1.html [L,NC,R=301]
# End: Redirect all extensions to html
